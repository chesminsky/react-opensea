(this["webpackJsonpreact-opensea"]=this["webpackJsonpreact-opensea"]||[]).push([[0],{354:function(e,t,n){},356:function(e,t,n){},369:function(e,t){},377:function(e,t){},394:function(e,t){},396:function(e,t){},412:function(e,t){},413:function(e,t){},477:function(e,t){},479:function(e,t){},511:function(e,t){},513:function(e,t){},514:function(e,t){},519:function(e,t){},521:function(e,t){},527:function(e,t){},529:function(e,t){},542:function(e,t){},554:function(e,t){},557:function(e,t){},561:function(e,t){},573:function(e,t){},752:function(e,t){},756:function(e,t){},810:function(e,t){},876:function(e,t){},945:function(e,t,n){"use strict";n.r(t);var r=n(59),c=n.n(r),a=n(343),s=n.n(a),i=(n(354),n(13)),o=n.n(i),u=n(98),d=n(5),l=n(6),h=n(40),f=n(12),b=n(11),p=(n(356),n(161)),v=n.n(p),j=n(205),O=n(17),m=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).seaport=void 0,r.accountAddress=void 0,r.state={owner:"0x76b81595e372733d13688e6da9b1d5474c9c769b",assets:[]},r.handleChange=r.handleChange.bind(Object(h.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(h.a)(r)),r.makeOffer=r.makeOffer.bind(Object(h.a)(r)),r.buy=r.buy.bind(Object(h.a)(r)),r.accountAddress=e.accountAddress,r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("my account",this.accountAddress),this.search()}},{key:"handleChange",value:function(e){this.setState({owner:e.target.value})}},{key:"handleSubmit",value:function(e){this.search(),e.preventDefault()}},{key:"search",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.seaport=new j.OpenSeaPort(v.a.givenProvider,{networkName:j.Network.Rinkeby}),e.next=3,this.seaport.api.getAssets({owner:this.state.owner});case 3:t=e.sent,this.setState({assets:t.assets});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(e){return e.sellOrders?e.sellOrders[0].basePrice.toNumber()/1e18:""}},{key:"getLast",value:function(e){return e.lastSale?+e.lastSale.totalPrice/1e18:""}},{key:"makeOffer",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=t.tokenId,r=t.tokenAddress,c=this.accountAddress,e.prev=3,e.next=6,this.seaport.createBuyOrder({asset:{tokenId:n,tokenAddress:r},accountAddress:c,startAmount:.5,quantity:1});case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),alert(e.t0);case 12:alert(a),window.location.reload();case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"buy",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sellOrders){e.next=3;break}return alert("no sell orders"),e.abrupt("return");case 3:return n="",e.prev=4,e.next=7,this.seaport.fulfillOrder({order:t.sellOrders[0],accountAddress:this.accountAddress});case 7:n=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),alert(e.t0),e.abrupt("return");case 14:alert(n),window.location.reload();case 16:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"text",value:this.state.owner,onChange:this.handleChange,placeholder:"owner adress"}),Object(O.jsx)("button",{type:"submit",children:"SEARCH"})]}),Object(O.jsx)("ul",{className:"list",children:this.state.assets.map((function(t,n){return Object(O.jsxs)("li",{children:[Object(O.jsx)("img",{src:t.imageUrl||"https://dummyimage.com/250x250/fff/000"}),Object(O.jsx)("p",{children:t.collection.name}),Object(O.jsx)("p",{children:t.name}),Object(O.jsxs)("p",{children:["Price: ",e.getPrice(t)]}),Object(O.jsxs)("p",{children:["Last: ",e.getLast(t)]}),Object(O.jsx)("button",{onClick:function(){return e.buy(t)},children:"BUY"})]},t.name+n)}))})]})}}]),n}(c.a.Component),x=n(347),k=n.n(x),g=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={provider:void 0,accounts:[]},r.detectProvider=r.detectProvider.bind(Object(h.a)(r)),r.getAccounts=r.getAccounts.bind(Object(h.a)(r)),r}return Object(l.a)(n,[{key:"detectProvider",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({provider:void 0}),e.next=3,k()();case 3:if(!(t=e.sent)){e.next=12;break}return e.next=7,this.getAccounts();case 7:n=e.sent,this.setState({provider:t,accounts:n}),console.log(this.state),e.next=13;break;case 12:this.setState({provider:null});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){return v.a.givenProvider.request({method:"eth_requestAccounts"})}},{key:"componentDidMount",value:function(){this.detectProvider()}},{key:"render",value:function(){var e;return e="undefined"===typeof this.state.provider?Object(O.jsx)("div",{children:"Initializing..."}):null===this.state.provider?Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 Ethereum \u043a\u043e\u0448\u0435\u043b\u0435\u043a"}),Object(O.jsx)("button",{onClick:this.detectProvider,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]}):Object(O.jsx)(m,{accountAddress:this.state.accounts[0]}),Object(O.jsx)("div",{className:"container",children:e})}}]),n}(c.a.Component),y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,949)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(g,{})}),document.getElementById("root")),y()}},[[945,1,2]]]);
//# sourceMappingURL=main.3c7ab05a.chunk.js.map