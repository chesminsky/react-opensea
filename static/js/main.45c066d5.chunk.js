(this["webpackJsonpreact-opensea"]=this["webpackJsonpreact-opensea"]||[]).push([[0],{367:function(e,t,n){},369:function(e,t,n){},382:function(e,t){},390:function(e,t){},407:function(e,t){},409:function(e,t){},425:function(e,t){},426:function(e,t){},490:function(e,t){},492:function(e,t){},524:function(e,t){},526:function(e,t){},527:function(e,t){},532:function(e,t){},534:function(e,t){},540:function(e,t){},542:function(e,t){},555:function(e,t){},567:function(e,t){},570:function(e,t){},574:function(e,t){},586:function(e,t){},765:function(e,t){},769:function(e,t){},823:function(e,t){},889:function(e,t){},962:function(e,t,n){"use strict";n.r(t);var c=n(6),r=n.n(c),s=n(355),i=n.n(s),a=(n(367),n(16)),o=n.n(a),u=n(129),d=n(5),l=n(7),h=n(53),b=n(14),j=n(13),f=(n(369),n(168)),p=n.n(f),v=n(214),O=n(10),x=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var c;Object(d.a)(this,n),(c=t.call(this,e)).seaport=void 0,c.accountAddress=void 0;return c.state={owner:c.props.owner||"0x76b81595e372733d13688e6da9b1d5474c9c769b",assets:[],isProfilePage:Boolean(c.props.owner)},c.handleChange=c.handleChange.bind(Object(h.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(h.a)(c)),c.buy=c.buy.bind(Object(h.a)(c)),c.accountAddress=e.accountAddress,c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("my account",this.accountAddress),this.search()}},{key:"handleChange",value:function(e){this.setState({owner:e.target.value})}},{key:"handleSubmit",value:function(e){this.search(),e.preventDefault()}},{key:"search",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.seaport=new v.OpenSeaPort(p.a.givenProvider,{networkName:v.Network.Rinkeby}),e.next=3,this.seaport.api.getAssets({owner:this.state.owner});case 3:t=e.sent,this.setState({assets:t.assets});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(e){return e.sellOrders?e.sellOrders[0].basePrice.toNumber()/1e18:""}},{key:"getLast",value:function(e){return e.lastSale?+e.lastSale.totalPrice/1e18:""}},{key:"buy",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sellOrders){e.next=3;break}return alert("no sell orders"),e.abrupt("return");case 3:return n="",e.prev=4,e.next=7,this.seaport.fulfillOrder({order:t.sellOrders[0],accountAddress:this.accountAddress});case 7:n=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),alert(e.t0),e.abrupt("return");case 14:alert(n),window.location.reload();case 16:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,className:this.state.isProfilePage?"hidden":"",children:[Object(O.jsx)("input",{type:"text",value:this.state.owner,onChange:this.handleChange,placeholder:"owner adress"}),Object(O.jsx)("button",{type:"submit",children:"SEARCH"})]}),Object(O.jsx)("ul",{className:"list",children:this.state.assets.map((function(t,n){return Object(O.jsxs)("li",{children:[Object(O.jsx)("img",{src:t.imageUrl||"https://dummyimage.com/250x250/fff/000"}),Object(O.jsx)("p",{children:t.collection.name}),Object(O.jsx)("p",{children:t.name}),Object(O.jsxs)("p",{children:["Price: ",e.getPrice(t)]}),Object(O.jsxs)("p",{children:["Last: ",e.getLast(t)]}),Object(O.jsx)("button",{className:e.state.isProfilePage?"hidden":"",onClick:function(){return e.buy(t)},children:"BUY"})]},t.name+n)}))})]})}}]),n}(r.a.Component),m=n(359),g=n.n(m),k=n(169),y=n(20),w=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).state={provider:void 0,accounts:[]},c.detectProvider=c.detectProvider.bind(Object(h.a)(c)),c.getAccounts=c.getAccounts.bind(Object(h.a)(c)),c}return Object(l.a)(n,[{key:"detectProvider",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({provider:void 0}),e.next=3,g()();case 3:if(!(t=e.sent)){e.next=12;break}return e.next=7,this.getAccounts();case 7:n=e.sent,this.setState({provider:t,accounts:n}),console.log(this.state),e.next=13;break;case 12:this.setState({provider:null});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){return p.a.givenProvider.request({method:"eth_requestAccounts"})}},{key:"componentDidMount",value:function(){this.detectProvider()}},{key:"render",value:function(){var e;return e="undefined"===typeof this.state.provider?Object(O.jsx)("div",{children:"Initializing..."}):null===this.state.provider?Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 Ethereum \u043a\u043e\u0448\u0435\u043b\u0435\u043a"}),Object(O.jsx)("button",{onClick:this.detectProvider,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]}):Object(O.jsx)(x,{accountAddress:this.state.accounts[0]}),Object(O.jsx)(k.a,{basename:"#",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(k.b,{to:"/",children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)(k.b,{to:"/profile",children:"Profile"})})]})}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(y.c,{children:[Object(O.jsxs)(y.a,{path:"/profile",children:[Object(O.jsx)("h2",{children:"Your assets"}),Object(O.jsx)(x,{accountAddress:this.state.accounts[0],owner:this.state.accounts[0]})]}),Object(O.jsx)(y.a,{path:"/",children:e})]})})]})})}}]),n}(r.a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,966)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root")),P()}},[[962,1,2]]]);
//# sourceMappingURL=main.45c066d5.chunk.js.map